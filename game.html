<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>2026ë…„ì˜ ì‚¬ìì„±ì–´ë¥¼ ë§ì¶°ë¼!: ãˆœì— ì˜¤í”¼ ë¦¬í”„ë ˆì‹œ ë°ì´</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      padding: 20px;
      max-width: 600px;
      margin: 0 auto;
      background: #f6f7fb;
    }
    h1 {
      font-size: 1.4rem;
      margin-bottom: 0.3rem;
    }
    .subtitle {
      font-size: 0.9rem;
      color: #666;
      margin-bottom: 1rem;
    }
    .card {
      background: #fff;
      border: 1px solid #e1e4ec;
      border-radius: 16px;
      padding: 16px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.03);
      margin-top: 14px;
    }
    .meta {
      font-size: 0.85rem;
      color: #777;
      margin-bottom: 4px;
    }
    .mission-title {
      font-weight: 600;
      margin-bottom: 6px;
    }
    .mission-text {
      font-size: 0.95rem;
      line-height: 1.45;
      white-space: pre-line;
    }
    input[type="text"] {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #ccc;
      box-sizing: border-box;
      font-size: 1rem;
      margin-top: 10px;
    }
    button {
      margin-top: 10px;
      padding: 10px 18px;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 0.95rem;
      background: #2b7cff;
      color: white;
    }
    button:active { transform: scale(0.98); }
    .error {
      color: #c62828;
      font-size: 0.85rem;
      margin-top: 8px;
      display: none;
    }
    .success {
      color: #0b7a2a;
      font-size: 0.9rem;
      margin-top: 8px;
      display: none;
    }
    .team-buttons {
      margin-top: 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .team-buttons button {
      background: #e6ebff;
      color: #1f3a93;
      flex: 1 1 45%;
    }
    .mission-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 8px;
      margin-bottom: 6px;
    }
    .back-btn {
      background: #e0e0e0;
      color: #333;
      padding: 6px 10px;
      font-size: 0.8rem;
      border-radius: 999px;
      white-space: nowrap;
      margin-top: 0;
    }
  </style>
</head>

<body>
  <h1>2026ë…„ì˜ ì‚¬ìì„±ì–´ë¥¼ ë§ì¶°ë¼!</h1>
  <div class="subtitle">ãˆœì— ì˜¤í”¼ ë¦¬í”„ë ˆì‹œ ë°ì´</div>

  <!-- íŒ€ ì„ íƒ -->
  <div id="startCard" class="card">
    <div class="mission-text">
      íŒ€ì„ ì„ íƒí•˜ê³ , ë¬¸ì œë¥¼ í’€ì–´ë³´ì„¸ìš”!

      â–¸ ë¬¸ì œ 1~3 : ì´ í˜ì´ì§€ì—ì„œ í‘¸ëŠ” í€´ì¦ˆ
      â–¸ ë¬¸ì œ 4 : í–‰ì‚¬ ì‹œì‘ ì‹œ ë°›ì€ â€˜ë„¤ëª¨ë¡œì§ í¼ì¦ ìš©ì§€â€™ë¡œ ì§ì ‘ í’€ì´

      4 ë¬¸ì œë¥¼ ëª¨ë‘ í’€ë©´
      2026ë…„ì˜ ì‚¬ìì„±ì–´ë¥¼ ì™„ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </div>

    <div class="meta" style="margin-top:10px;">ë¨¼ì € íŒ€ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.</div>
    <div class="team-buttons">
      <button data-team="A">AíŒ€</button>
      <button data-team="B">BíŒ€</button>
      <button data-team="C">CíŒ€</button>
      <button data-team="D">DíŒ€</button>
    </div>
  </div>

  <!-- ë¯¸ì…˜ ì¹´ë“œ -->
  <div id="missionCard" class="card" style="display:none;">
    <div class="mission-header">
      <div>
        <div class="meta" id="missionMeta"></div>
        <div class="mission-title" id="missionTitle"></div>
      </div>
      <button id="backToStartBtn" class="back-btn">ì²˜ìŒ í™”ë©´ìœ¼ë¡œ</button>
    </div>

    <div class="mission-text" id="missionText"></div>

    <input id="answerInput" type="text" placeholder="ì •ë‹µì„ ì…ë ¥í•´ ì£¼ì„¸ìš”" />

    <button id="nextBtn">ì •ë‹µ ì œì¶œ</button>
    <div id="errorMsg" class="error"></div>
    <div id="successMsg" class="success"></div>
  </div>

  <!-- ë„¤ëª¨ë¡œì§ ì•ˆë‚´ + í¼ ì´ë™ -->
  <div id="finalInfoCard" class="card" style="display:none;">
    <div class="mission-title">ë¬¸ì œ 4 - ë„¤ëª¨ë¡œì§ í¼ì¦ ì•ˆë‚´</div>
    <div class="mission-text">
      ì¶•í•˜í•©ë‹ˆë‹¤! ë¬¸ì œ 1~3ê¹Œì§€ ëª¨ë‘ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ğŸ‰
      
      ì´ì œ í–‰ì‚¬ ì‹œì‘ ì‹œ ë°›ì€
      ë„¤ëª¨ë¡œì§ í¼ì¦ ìš©ì§€(ë¬¸ì œ 4)ë¥¼ í’€ì–´
      ìµœì¢… ì‚¬ìì„±ì–´ë¥¼ ì™„ì„±í•´ ì£¼ì„¸ìš”.

      â–¸ í’€ì´ ì¥ì†Œ : í”„ë‘ì œë¦¬ ì´í¬ë£¨ì¦ˆ ì—¬ì˜ë„í•œê°•ê³µì›ì 

      ì •ë‹µì„ ì™„ì„±í•œ ë’¤
      ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ â€˜ìµœì¢… ì œì¶œìš© êµ¬ê¸€í¼â€™ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.
    </div>

    <button id="goToFormBtn">ìµœì¢… ì •ë‹µ ì œì¶œí•˜ê¸°</button>

    <div class="meta" style="margin-top:6px;">
      ì œì¶œ ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ íŒ€ ìˆœìœ„ê°€ ì§‘ê³„ë©ë‹ˆë‹¤.
    </div>
  </div>

  <script>
    // -----------------------------
    // ì„¤ì •
    // -----------------------------
    const GOOGLE_FORM_URL = "https://docs.google.com/forms/xxxxxxxxxxxx";

    const TEAM_ROUTES = {
      "A": [0,1,2],
      "B": [1,2,0],
      "C": [2,0,1],
      "D": [1,0,2]
    };

    const MISSIONS = [
      {
        title: "ë¬¸ì œ 1 - í•œê°• ë‹¤ë¦¬ í€´ì¦ˆ",
        text: "í•œê°•ì—ëŠ” ì´ ëª‡ ê°œì˜ ë‹¤ë¦¬ê°€ ìˆì„ê¹Œìš”?\nìˆ«ìë§Œ ì…ë ¥í•´ ì£¼ì„¸ìš”.",
        answer: "33"
      },
      {
        title: "ë¬¸ì œ 2 - ì¸ì–´ê³µì£¼ ê³„ë‹¨ ìˆ˜",
        text: "'í•œê°•ì—ì„œ ë§Œë‚œ ì¸ì–´ê³µì£¼' ë™ìƒ ì •ë©´ì— ìˆëŠ” ê³„ë‹¨ì€\nì´ ëª‡ ê°œì¼ê¹Œìš”?\nìˆ«ìë§Œ ì…ë ¥í•´ ì£¼ì„¸ìš”.",
        answer: "8"
      },
      {
        title: "ë¬¸ì œ 3 - ë°¤ì„¬ ìŠµì§€ í€´ì¦ˆ",
        text: "ë°¤ì„¬ì€ êµ­ì œì ìœ¼ë¡œ í¬ê·€í•œ ë„ì‹œ ë‚´ë¶€ ìŠµì§€ë¡œ í‰ê°€ë°›ì•„\n'ã…‡ã…‡ã…‡ ìŠµì§€'ì— ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.\nì •ë‹µì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.",
        answer: "ëŒì‚¬ë¥´"
      }
    ];

    const startCard = document.getElementById("startCard");
    const teamButtons = document.querySelectorAll(".team-buttons button");

    const missionCard = document.getElementById("missionCard");
    const missionMeta = document.getElementById("missionMeta");
    const missionTitle = document.getElementById("missionTitle");
    const missionText = document.getElementById("missionText");
    const answerInput = document.getElementById("answerInput");
    const nextBtn = document.getElementById("nextBtn");
    const errorMsg = document.getElementById("errorMsg");
    const successMsg = document.getElementById("successMsg");

    const finalInfoCard = document.getElementById("finalInfoCard");
    const goToFormBtn = document.getElementById("goToFormBtn");

    const backToStartBtn = document.getElementById("backToStartBtn");

    let currentTeam = null;
    let currentStep = 0;
    let isTransition = false;

    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
      }
    }

    function initGame(){
      const letters = ["ë¶€","ì •","ì œ"];   // íŒíŠ¸ ê¸€ì 3ê°œ
      shuffle(letters);
      MISSIONS.forEach((m,i)=> m.letter = letters[i]);
    }

    teamButtons.forEach(btn=>{
      btn.addEventListener("click",()=>{
        currentTeam = btn.dataset.team;
        currentStep = 0;
        isTransition = false;

        initGame();

        startCard.style.display="none";
        missionCard.style.display="block";
        finalInfoCard.style.display="none";

        showMission();
      });
    });

    function showMission(){
      const route = TEAM_ROUTES[currentTeam];

      if(currentStep >= route.length){
        missionCard.style.display="none";
        finalInfoCard.style.display="block";
        return;
      }

      const m = MISSIONS[route[currentStep]];
      missionMeta.textContent = `ë¬¸ì œ ${currentStep+1} / 3  (${currentTeam}íŒ€)`;
      missionTitle.textContent = m.title;
      missionText.textContent  = m.text;

      answerInput.value="";
      errorMsg.style.display="none";
      successMsg.style.display="none";
      nextBtn.textContent="ì •ë‹µ ì œì¶œ";

      isTransition = false;
    }

    nextBtn.addEventListener("click",()=>{
      if(isTransition) return;

      const route = TEAM_ROUTES[currentTeam];
      const m = MISSIONS[route[currentStep]];

      const user = (answerInput.value || "").trim();
      if(!user){
        errorMsg.textContent="ì •ë‹µì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.";
        errorMsg.style.display="block";
        successMsg.style.display="none";
        return;
      }

      if(user.replace(/\s+/g,"").toLowerCase() !== m.answer.toLowerCase()){
        errorMsg.textContent="ì •ë‹µì´ ì•„ë‹™ë‹ˆë‹¤! ë‹¤ì‹œ í™•ì¸í•´ ì£¼ì„¸ìš”.";
        errorMsg.style.display="block";
        successMsg.style.display="none";
        return;
      }

      // ì •ë‹µì¼ ë•Œ: íŒíŠ¸ ê¸€ì ë³´ì—¬ì£¼ê¸° (3ì´ˆ ìœ ì§€)
      errorMsg.style.display="none";
      successMsg.style.display="block";
      successMsg.textContent =
        `ì •ë‹µì…ë‹ˆë‹¤! ì´ë²ˆ ë¬¸ì œì˜ íŒíŠ¸ ê¸€ìë¥¼ ì ì–´ ë‘ì„¸ìš”: "${m.letter}"`;

      isTransition = true;
      nextBtn.textContent="ë‹¤ìŒ ë¬¸ì œë¡œ ì´ë™ ì¤‘...";

      setTimeout(()=>{
        currentStep++;
        showMission();
      },3000);  // 3ì´ˆ ë™ì•ˆ íŒíŠ¸ ë©”ì‹œì§€ ë³´ì´ê²Œ
    });

    answerInput.addEventListener("keyup",(e)=>{
      if(e.key==="Enter") nextBtn.click();
    });

    // ì²˜ìŒ í™”ë©´ìœ¼ë¡œ ì´ë™
    backToStartBtn.addEventListener("click",()=>{
      currentTeam = null;
      currentStep = 0;
      missionCard.style.display="none";
      finalInfoCard.style.display="none";
      startCard.style.display="block";
    });

    // êµ¬ê¸€í¼ìœ¼ë¡œ ì´ë™
    goToFormBtn.addEventListener("click",()=>{
      window.location.href = GOOGLE_FORM_URL;
    });
  </script>

</body>
</html>
